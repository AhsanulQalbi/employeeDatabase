<html>
<title>Simple CRUD</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<body>

<div class="w3-container">
  <h2>Simple NodeJS MySQL CRUD </h2>
  <p>Ahsanul Qalbi, Using knowledge from youtube tutorials</p>

  <table class="w3-table-all">
    <thead>
      <tr class="w3-red">
        <th>First Name</th>
        <th>Last Name</th>
        <!-- <th>Gender</th> -->
        <th>Email</th>
        <!-- <th>Phone</th> -->
        <th>Start Date</th>
        <th>End Date</th>
        <th>Address</th>
        <th>Action</th>
      </tr>
    </thead>
    <% data.forEach(function(item){ %>
        <tr>
        <td><%= item.first_name %></td>
        <td><%= item.last_name %></td>
        <!-- <td><%= item.gender %></td> -->
        <td><%= item.email %></td>
        <td><%= item.start_date %></td>
        <td><%= item.end_date %></td>
        <td><%= item.Address.street %>,  
            <%= item.Address.city %>, 
            <%= item.Address.province %>, 
            <%= item.Address.country %>, 
          </td>
        <!-- <td><%= item.number %></td> -->
        <td>
            <form class="w3-container" method="POST" action = "/api/people/delete">
                <input type="hidden" name = "idData" value = "<%= item.id %>"/>
                <input type = "submit" class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding" value = "delete" name = "submitDelete"/>
            </form>
        </td>
        </tr>
    <%}); %>
  </table>
  <div class="w3-container w3-blue" style="margin-top: 30px;">
    <h2>Add New Data</h2>
  </div>
  <form class="w3-container" method="POST" action = "/api/people">
    <p>
    <label>First Name</label>
    <input class="w3-input" type="text" name = "first_name" required></p>
    <p>
    <label>Last Name</label>
    <input class="w3-input" type="text" name = "last_name"></p>
    <p>
    <label>Gender</label></p>
    <p>
    <input class="w3-radio" type="radio" name="gender" value="male" checked>
    <label>Male</label></p>
    <p>
    <input class="w3-radio" type="radio" name="gender" value="female">
    <label>Female</label></p>
    <p>
    <label>Email</label>
    <input class="w3-input" type="email" name = "email" required></p>
    <p>
    <label>Phone</label>
    <input class="w3-input" type="text" name = "number" required></p>
    <input type = "submit" class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding" value = "submit" name = "submit"/>
  </form>

  <div class="w3-container w3-blue" style="margin-top: 30px;">
    <h2>Edit Data</h2>
  </div>

  <form class="w3-container" method="POST" action = "/api/people/edit">
    <p>
        <label for="data">Select Data</label>
        <select id="data" name="id">
            <% data.forEach(function(item){ %>
                <option value="<%= item.id %>"><%= item.email %></option>
                <%}); %></select>
    </p>
    <p>
    <label>First Name</label>
    <input class="w3-input" type="text" name = "first_name" required></p>
    <p>
    <label>Last Name</label>
    <input class="w3-input" type="text" name = "last_name"></p>
    <p>
    <label>Gender</label></p>
    <p>
    <input class="w3-radio" type="radio" name="gender" value="male" checked>
    <label>Male</label></p>
    <p>
    <input class="w3-radio" type="radio" name="gender" value="female">
    <label>Female</label></p>
    <p>
    <label>Email</label>
    <input class="w3-input" type="email" name = "email" required></p>
    <p>
    <label>Phone</label>
    <input class="w3-input" type="text" name = "number" required></p>
    <input type = "submit" class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding" value = "update" name = "submit"/>
  </form>
</div>

</body>
</html> 
